


<h4>{{filter.category}}</h4>
<div class="container" style="width: 100%; height: 100%; display: flex; flex-grow: grow">
    <a href="#" data-bs-toggle="modal" data-bs-target="#modal-task" class="link-dark rounded"><div><i class="fa fa-plus-circle" aria-hidden="true"></i> Add task</div></a>
    <a href="#" data-bs-toggle="modal" data-bs-target="#modal-data" class="link-dark rounded" style="margin-left: 20px;"><div><i class="fa fa-plus-circle" aria-hidden="true"></i> Add data</div></a>    
</div>

<div class="set-component-body">
    <div *ngIf="filter.type.includes('task') || filter.type.includes('Task'); else data_content">
        
            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small rounded collapsed">
                <li *ngFor="let item of filtredTasks; let j = index" style="background-color:  #f5f6f7;">
                    <button class="shadow-sm p-1 mb-1 btn btn-toggle align-items-center rounded collapsed" style="width: 100%;" data-bs-toggle="collapse" attr.data-bs-target="{{'#'+(item.taskName).toString()+ j+'QwErT'}}" aria-expanded="false">
                        <b>{{item.taskName}}</b>
                    </button>
                    <div class="collapse" id="{{(item.taskName).toString()+ j+'QwErT'}}" style="background-color: #dfe5e7;">
                        <div style="display: flex; flex-grow: grow" class="border-top border-success">
                            <h6>{{"End date: "+item.date+" - Category: "+item.category}}</h6>
                            <button (click)="deleteTask(item.hashId)" class="delete-btn">
                                <i class="fa fa-trash-o" aria-hidden="true"></i>
                            </button>
                        </div>
                        <div class="rounded border border-dark d-inline-flex" style="width: 96%; height: 96%;">
                            <p class="d-inline-flex p-2">{{item.taskDescription}}</p>
                        </div>
                        
                    </div>
                </li>

            </ul>


        
        
    </div>

    <ng-template #data_content>
        <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small rounded collapsed">
            <li *ngFor="let item of filtredData; let j = index" style="background-color:  #f5f6f7;">
                <button class="shadow-sm p-1 mb-1 btn btn-toggle align-items-center rounded collapsed" style="width: 100%;" data-bs-toggle="collapse" attr.data-bs-target="{{'#'+(item.dataName).toString()+ j+'QwErT'}}" aria-expanded="false">
                    <b>{{item.dataName}}</b>
                </button>
                <div class="collapse" id="{{(item.dataName).toString()+ j+'QwErT'}}" style="background-color: #dfe5e7;">
                    <div style="display: flex; flex-grow: grow" class="border-top border-success">
                        <h6>{{"Category: "+item.category}}</h6>
                        <button (click)="DeleteData(item.hashId)" class="delete-btn">
                            <i class="fa fa-trash-o" aria-hidden="true"></i>
                        </button>
                    </div>
                    <div class="rounded border border-dark d-inline-flex" style="width: 96%; height: 96%;">
                        <p class="d-inline-flex p-2">{{item.dataInfo}}</p>
                    </div>
                    
                </div>
            </li>

        </ul>
    </ng-template>

</div>







<!-- ADD TASK MODAL -->
<div class="modal fade" id="modal-task" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create a new Task</h3>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body container">
                <div class="container mb-3 text-start mt-2 h-100">
                    <div><label for="output-content" id="output-content-label">Task name: </label> </div>
                    <input class="form-control" [(ngModel)]="taskName" #newCategoryInput value="{{taskName}}" type="text">
                </div>
                <div class="container mb-3 text-start mt-2 h-100">
                    <div><label for="output-content" id="output-content-label">Task description: </label> </div>
                    <textarea class="form-control" [(ngModel)]="taskDescription" #newCategoryInput value="{{taskDescription}}" type="text"></textarea>
                </div>
                <div class="container mb-3 text-start mt-2 h-100">
                    <label for="startDate">End date</label>
                    <input [(ngModel)]="date" id="startDate" class="form-control" type="date" />
                </div>
                <div class="container mb-3 text-start mt-2 h-100">
                    <div><label for="output-content" id="output-content-label">Task category: </label> </div>
                    <select [(ngModel)]="taskCategory" class="form-select form-select-sm" multiple aria-label="multiple select">
                        <option>No category</option>
                        <option *ngFor="let item of taskCategories; let k = index" [ngValue]="item.name">{{item.name}}<option>
                    </select>
                    <!--<input [(ngModel)]="taskCategory" #newCategoryInput value="{{taskCategory}}" type="text">-->
                </div>
                
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" (click)="AddTask(); reloadInitialPage()" data-bs-dismiss="modal"><i class="fa fa-plus-square" aria-hidden="true"></i> Add</button>
            </div>
        </div>
    </div>
  </div>




  <!-- ADD DATA MODAL -->
<div class="modal fade" id="modal-data" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create new data</h3>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body container">
                <div class="container mb-3 text-start mt-2 h-100">
                    <div><label for="output-content" id="output-content-label">Data name: </label> </div>
                    <input class="form-control" [(ngModel)]="dataName" #newCategoryInput value="{{taskName}}" type="text">
                </div>
                <div class="container mb-3 text-start mt-2 h-100">
                    <div><label for="output-content" id="output-content-label">Information: </label> </div>
                    <textarea class="form-control" [(ngModel)]="dataInfo" #newCategoryInput value="{{taskDescription}}" type="text"></textarea>
                </div>
                <div class="container mb-3 text-start mt-2 h-100">
                    <div><label for="output-content" id="output-content-label">Category: </label> </div>
                    <select [(ngModel)]="dataCategory" class="form-select form-select-sm" multiple aria-label="multiple select">
                        <option>No category</option>
                        <option *ngFor="let item of dataCategories; let k = index" [ngValue]="item.name">{{item.name}}<option>
                    </select>
                    <!--<input [(ngModel)]="taskCategory" #newCategoryInput value="{{taskCategory}}" type="text">-->
                </div>
                
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" (click)="AddData(); reloadInitialPage()" data-bs-dismiss="modal"><i class="fa fa-plus-square" aria-hidden="true"></i> Add</button>
            </div>
        </div>
    </div>
  </div>