<h4 class="font-nunito">{{filter.category}}</h4>
<div class="container font-nunito" style="width: 100%; height: 100%; display: flex; flex-grow: grow">
    <a href="#" data-bs-toggle="modal" data-bs-target="#modal-task" class="link-dark rounded"><div><i class="fa fa-plus-circle" aria-hidden="true"></i> Add task</div></a>
    <a href="#" data-bs-toggle="modal" data-bs-target="#modal-data" class="link-dark rounded" style="margin-left: 20px;"><div><i class="fa fa-plus-circle" aria-hidden="true"></i> Add data</div></a>    
</div>

<div class="set-component-body font-nunito">
    <div *ngIf="filter.type.includes('task') || filter.type.includes('Task'); else data_content">
        
            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small rounded collapsed">
                <li *ngFor="let item of filtredTasks; let j = index">
                    <button class="p-1 mb-1 btn btn-toggle d-inline-flex align-items-center rounded collapsed" style="width: 100%;" data-bs-toggle="collapse" attr.data-bs-target="{{'#'+'a'+j}}" aria-expanded="false">
                        <div class="task-name-font-size" style="margin-left: 10px; margin-right: 40px;">
                            <i class="fa fa-circle-o" aria-hidden="true" style="margin-right: 4px;"></i>
                            {{item.taskName}}
                        </div>
                        
                        <div class="font-nunito-light caledar-font-size align-items-center">
                            <i class="fa fa-calendar-o" aria-hidden="true"></i>
                            {{item.date}}
                        </div>
                        
                    </button>
                    <div class="collapse li-content" id="{{'a'+j}}">
                        <div style="display: flex; flex-grow: grow">
                            <h6>{{"End date: "+item.date+" - Category: "+item.category}}</h6>
                            <button (click)="deleteTask(item.hashId)" class="delete-btn">
                                <i class="fa fa-trash-o" aria-hidden="true"></i>
                            </button>
                        </div>
                        <div class="d-inline-flex" style="width: 96%; height: 96%;">
                            <p class="d-inline-flex p-2">Description: {{item.taskDescription}}</p>
                        </div>
                        
                    </div>
                </li>

            </ul>


        
        
    </div>

    <ng-template #data_content >
        <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small rounded collapsed font-nunito">
            <li *ngFor="let item of filtredData; let j = index">
                <button class="p-1 mb-1 btn btn-toggle rounded collapsed" style="width: 100%;" data-bs-toggle="collapse" attr.data-bs-target="{{'#'+ 'a'+j}}" aria-expanded="false">
                    {{item.dataName}}
                </button>
                <div class="collapse li-content" id="{{'a'+j}}">
                    <div style="display: flex; flex-grow: grow" class="flexbox" style="margin-top: 10px; justify-content: space-between;">
                        <div>
                            <h6>{{"Category: "+item.category}}</h6>
                        </div>
                        <div>
                            <button (click)="DeleteData(item.hashId)" class="delete-btn" style="background-color: #9DF1DF;">
                                <i class="fa fa-trash-o" aria-hidden="true" ></i>
                            </button>
                        </div>
                        
                    </div>
                    <div class="rounded border border-dark d-inline-flex" style="width: 96%; height: 96%;">
                        <p class="d-inline-flex p-2">{{item.dataInfo}}</p>
                    </div>
                    
                </div>
            </li>

        </ul>
    </ng-template>

</div>







<!-- ADD TASK MODAL -->
<div class="modal fade " id="modal-task" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content font-nunito" style="background-color: #E3F6FF;">
            <div class="modal-header" style="border-bottom: 1px solid black;">
                <h3>Create a new Task</h3>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body container">
                <div class="container mb-3 text-start mt-2 h-100">
                    <div><label for="output-content" id="output-content-label">Task name: </label> </div>
                    <input class="form-control" [(ngModel)]="taskName" #newCategoryInput value="{{taskName}}" type="text">
                </div>
                <div class="container mb-3 text-start mt-2 h-100">
                    <div><label for="output-content" id="output-content-label">Task description: </label> </div>
                    <textarea class="form-control" [(ngModel)]="taskDescription" #newCategoryInput value="{{taskDescription}}" type="text"></textarea>
                </div>
                <div class="container mb-3 text-start mt-2 h-100">
                    <label for="startDate">End date</label>
                    <input [(ngModel)]="date" id="startDate" class="form-control" type="date" />
                </div>
                <div class="container mb-3 text-start mt-2 h-100">
                    <div><label for="output-content" id="output-content-label">Task category: </label> </div>
                    <select [(ngModel)]="taskCategory" class="form-select form-select-sm" multiple aria-label="multiple select">
                        <option>No category</option>
                        <option *ngFor="let item of taskCategories; let k = index" [ngValue]="item.name">{{item.name}}<option>
                    </select>
                    <!--<input [(ngModel)]="taskCategory" #newCategoryInput value="{{taskCategory}}" type="text">-->
                </div>
                
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" (click)="AddTask(); reloadInitialPage()" data-bs-dismiss="modal"><i class="fa fa-plus-square" aria-hidden="true"></i> Add</button>
            </div>
        </div>
    </div>
  </div>




  <!-- ADD DATA MODAL -->
<div class="modal fade font-nunito;" id="modal-data" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content font-nunito" style="background-color: #E3F6FF;">
            <div class="modal-header" style="border-bottom: 1px solid black;">
                <h3>Create new data</h3>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body container">
                <div class="container mb-3 text-start mt-2 h-100">
                    <div><label for="output-content" id="output-content-label">Data name: </label> </div>
                    <input class="form-control" [(ngModel)]="dataName" #newCategoryInput value="{{taskName}}" type="text">
                </div>
                <div class="container mb-3 text-start mt-2 h-100">
                    <div><label for="output-content" id="output-content-label">Information: </label> </div>
                    <textarea class="form-control" [(ngModel)]="dataInfo" #newCategoryInput value="{{taskDescription}}" type="text"></textarea>
                </div>
                <div class="container mb-3 text-start mt-2 h-100">
                    <div><label for="output-content" id="output-content-label">Category: </label> </div>
                    <select [(ngModel)]="dataCategory" class="form-select form-select-sm" multiple aria-label="multiple select">
                        <option>No category</option>
                        <option *ngFor="let item of dataCategories; let k = index" [ngValue]="item.name">{{item.name}}<option>
                    </select>
                    <!--<input [(ngModel)]="taskCategory" #newCategoryInput value="{{taskCategory}}" type="text">-->
                </div>
                
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" (click)="AddData(); reloadInitialPage()" data-bs-dismiss="modal"><i class="fa fa-plus-square" aria-hidden="true"></i> Add</button>
            </div>
        </div>
    </div>
  </div>